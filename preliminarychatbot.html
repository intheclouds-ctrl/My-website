<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IT Helpdesk Chatbot</title>
  <style>
    /* ... (rest of the CSS) */
  </style>
</head>
<body>
  <div class="chat-container">
    <div class="chat-title">IT Helpdesk Support</div>
    <div class="chat-subtitle clickable" id="chat-subtitle">Top 6 Common Issues</div>
    <div class="chat-box" id="chat-box"></div>
    <input type="text" id="chat-input" class="chat-input" placeholder="Type your message...">
    <button id="chat-button" class="chat-button">Send</button>
  </div>

  <script>
    const chatBox = document.getElementById('chat-box');
    const chatInput = document.getElementById('chat-input');
    const chatButton = document.getElementById('chat-button');
    const chatSubtitle = document.getElementById('chat-subtitle');

    // Improved response handling
    const responses = {
      "password reset": "To reset your password, please follow the instructions on the password reset page.",
      "network issues": "If you're experiencing network issues, try restarting your router. If the problem persists, contact IT support.",
      "software installation": "For software installation requests, please fill out the software request form on the IT portal.",
      "email setup": "To set up your email, follow the step-by-step guide available on the IT support page.",
      "account locked": "If your account is locked, please contact IT support to unlock it.",
      "slow computer": "Try restarting your computer and closing unnecessary programs. If the issue persists, contact IT support.",
      "printer issues": "Ensure the printer is turned on and connected to the network. Check for any error messages on the printer display.",
      "VPN problems": "Please specify which VPN service you're using for more tailored advice.",
      // Additional responses for common IT issues
      "remote access": "To request remote access, please submit a ticket through the IT portal.",
      "hardware replacement": "For hardware replacement requests, please contact IT support directly.",
      "internet connection": "If you're having trouble connecting to the internet, check your network cable and router settings.",
      "email troubleshooting": "For email troubleshooting, please provide more details about the issue you're facing.",
      "software updates": "To check for software updates, go to the software center on your device.",
      // Default response for unknown queries
      "default": "I couldn't find a relevant response for your query. Please provide more details or contact IT support for assistance."
    };

    // Top 6 common helpdesk issues
    const topIssues = [
      "Password reset",
      "Network issues",
      "Software installation",
      "Email setup",
      "Account locked",
      "Slow computer"
    ];

    // Vendor-specific advice
    const vpnVendors = {
      "nordvpn": "For NordVPN-related issues, please contact their support team at [NordVPN support email/phone number].",
      "expressvpn": "If you're using ExpressVPN, reach out to their support team at [ExpressVPN support email/phone number].",
      "surfshark": "For Surfshark support, please visit their website or contact them at [Surfshark support email/phone number].",
      // Add more vendors as needed
    };

    // Clickable subtitle functionality
    chatSubtitle.addEventListener('click', () => {
      chatBox.innerHTML += `<div><strong>Top 6 Common Issues:</strong></div>`;
      topIssues.forEach(issue => {
        chatBox.innerHTML += `<div>&#8226; ${issue}</div>`;
      });
    });

    chatButton.addEventListener('click', () => {
      const userMessage = chatInput.value.toLowerCase();
      const response = responses[userMessage] || responses.default;

      // Check for VPN-related queries
      if (userMessage.includes("vpn") || userMessage.includes("virtual private network")) {
        const vpnVendor = getUserVpnVendor(userMessage);
        if (vpnVendor) {
          response = vpnVendors[vpnVendor];
        } else {
          response = "Please specify which VPN service you're using for more tailored advice.";
        }
      }

      chatBox.innerHTML += `<div><strong>You:</strong> ${chatInput.value}</div>`;
      chatBox.innerHTML += `<div><strong>Bot:</strong> ${response}</div>`;
      chatInput.value = '';
      chatBox.scrollTop = chatBox.scrollHeight;
    });

    function getUserVpnVendor(message) {
      // Implement a more sophisticated logic to extract the VPN vendor from the message
      // For example, use regular expressions or natural language processing
      const vpnKeywords = ["nordvpn", "expressvpn", "surfshark"];
      for (const keyword of vpnKeywords) {
        if (message.includes(keyword)) {
          return keyword;
        }
      }
      return null;
    }
  </script>
</body>
</html>
