<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Helpdesk Chatbot</title>
    <style>
        .chat-container {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            height: 500px;
            width: 300px;
            border: 1px solid #ccc;
            border-radius: 8px;
            overflow: hidden;
        }
        .chat-header {
            background-color: #4a5568;
            color: white;
            padding: 16px;
        }
        .chat-header h2 {
            margin: 0;
            font-size: 1.25rem;
        }
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 16px;
        }
        .message {
            max-width: 70%;
            padding: 8px;
            border-radius: 8px;
            margin-bottom: 8px;
        }
        .user-message {
            background-color: #3b82f6;
            color: white;
            margin-left: auto;
        }
        .bot-message {
            background-color: #e5e7eb;
        }
        .chat-input {
            padding: 8px;
            border-top: 1px solid #ccc;
        }
        .common-requests {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            margin-bottom: 8px;
        }
        .common-request-btn {
            background-color: #e5e7eb;
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.875rem;
            cursor: pointer;
        }
        .common-request-btn:hover {
            background-color: #d1d5db;
        }
        .input-form {
            display: flex;
        }
        .input-field {
            flex: 1;
            padding: 8px;
            border: 1px solid #ccc;
            border-right: none;
            border-radius: 4px 0 0 4px;
        }
        .send-btn {
            background-color: #3b82f6;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 0 4px 4px 0;
            cursor: pointer;
        }
        .send-btn:hover {
            background-color: #2563eb;
        }
    </style>
</head>
<body>
    <div id="helpdesk-chatbot" class="chat-container">
        <div class="chat-header">
            <h2>Generic Helpdesk Assistance</h2>
        </div>
        <div id="chat-messages" class="chat-messages">
            <div class="initial-message" style="text-align: center; color: #6b7280;">
                Click a common request or type your question below.
            </div>
        </div>
        <div class="chat-input">
            <div class="common-requests" id="common-requests"></div>
            <form id="chat-form" class="input-form">
                <input type="text" id="user-input" class="input-field" placeholder="Type your question...">
                <button type="submit" class="send-btn">Send</button>
            </form>
        </div>
    </div>

    <script>
        const chatMessages = document.getElementById('chat-messages');
        const chatForm = document.getElementById('chat-form');
        const userInput = document.getElementById('user-input');
        const commonRequestsContainer = document.getElementById('common-requests');

        const commonRequests = [
            "Password Reset",
            "Network Issues",
            "Printer Problems",
            "Software Installation",
            "Email Issues",
            "Hardware Malfunction"
        ];

        function createMessageElement(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', `${sender}-message`);
            messageDiv.textContent = text;
            return messageDiv;
        }

        function addMessage(text, sender) {
            const messageElement = createMessageElement(text, sender);
            chatMessages.appendChild(messageElement);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function getBotResponse(userInput) {
            const lowerInput = userInput.toLowerCase();
            
            if (lowerInput.includes('password reset') || lowerInput.includes('forgot password')) {
                return "To reset your password, please follow these steps:\n1. Go to the login page\n2. Click on 'Forgot Password'\n3. Enter your email address\n4. Follow the instructions sent to your email";
            } else if (lowerInput.includes('network') && (lowerInput.includes('slow') || lowerInput.includes('down'))) {
                return "If you're experiencing network issues, try these steps:\n1. Restart your router\n2. Check if other devices are affected\n3. Run a speed test\n4. Contact your ISP if the problem persists";
            } else if (lowerInput.includes('printer') && (lowerInput.includes('not working') || lowerInput.includes('problem'))) {
                return "For printer issues, please try:\n1. Check if it's properly connected and powered on\n2. Ensure you have the correct printer selected\n3. Check for paper jams\n4. Restart the printer and your computer";
            } else if (lowerInput.includes('software') && lowerInput.includes('install')) {
                return "For software installation:\n1. Ensure you have admin rights\n2. Download the software from a trusted source\n3. Run the installer and follow the prompts\n4. Restart your computer after installation";
            } else if (lowerInput.includes('email') && lowerInput.includes('issue')) {
                return "For email issues:\n1. Check your internet connection\n2. Verify your email settings\n3. Clear your browser cache if using webmail\n4. Contact your email provider if the problem persists";
            } else if (lowerInput.includes('hardware') && lowerInput.includes('malfunction')) {
                return "For hardware malfunctions:\n1. Check all connections\n2. Restart the device\n3. Update or reinstall drivers\n4. If the issue persists, contact IT support for hardware inspection";
            } else {
                return "I'm sorry, I don't have specific information about that issue. For more complex problems, please contact our IT support team directly.";
            }
        }

        function sendMessage(text) {
            addMessage(text, 'user');
            userInput.value = '';

            setTimeout(() => {
                const botResponse = getBotResponse(text);
                addMessage(botResponse, 'bot');
            }, 1000);
        }

        chatForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const message = userInput.value.trim();
            if (message) {
                sendMessage(message);
            }
        });

        commonRequests.forEach(request => {
            const button = document.createElement('button');
            button.textContent = request;
            button.classList.add('common-request-btn');
            button.addEventListener('click', () => sendMessage(request));
            commonRequestsContainer.appendChild(button);
        });

        // Remove initial message when first message is sent
        chatMessages.addEventListener('DOMNodeInserted', () => {
            const initialMessage = document.querySelector('.initial-message');
            if (initialMessage) {
                initialMessage.remove();
            }
        });
    </script>
</body>
</html>
